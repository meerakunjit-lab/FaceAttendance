<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Employee</title>
    <style>
        body{
            font-family:Segoe UI, sans-serif;
            background:#050b18;
            color:#e8faff;
            display:flex;
            justify-content:center;
            align-items:center;
            height:100vh;
        }
        .box{
            width:420px;
            padding:30px;
            border-radius:12px;
            background:rgba(0,234,255,0.05);
            border:1px solid rgba(0,234,255,0.2);
            box-shadow:0 0 25px rgba(0,234,255,0.15);
        }
        h2{
            margin-top:0;
            color:#00eaff;
            text-align:center;
        }
        label{
            font-size:13px;
            opacity:0.8;
        }
        input{
            width:100%;
            padding:10px;
            margin:6px 0 14px;
            border-radius:8px;
            border:none;
            outline:none;
            background:#020a14;
            color:#00eaff;
        }
        .btn{
            width:100%;
            padding:12px;
            border:none;
            border-radius:8px;
            font-weight:700;
            cursor:pointer;
            background:linear-gradient(90deg,#00eaff,#00b3ff);
            color:#021018;
        }
        .btn:hover{
            box-shadow:0 0 15px #00eaff;
        }
        .back{
            margin-top:12px;
            display:block;
            text-align:center;
            color:#00eaff;
            text-decoration:none;
            font-size:13px;
        }
        .status{
            margin-top:10px;
            text-align:center;
            font-size:13px;
        }
    </style>
</head>
<body>

<div class="box">
    <h2>Edit Employee</h2>

    <label>Employee ID</label>
    <input type="text" value="{{ employee.emp_id }}" readonly>

    <label>Name</label>
    <input type="text" id="name" value="{{ employee.name }}">

    <label>Branch</label>
    <input type="text" id="branch" value="{{ employee.branch }}">

    <label>Phone</label>
    <input type="text" id="phone" value="{{ employee.phone }}">

    <button class="btn" onclick="updateEmployee()">Update Employee</button>

    <div class="status" id="status"></div>

    <a href="/employees" class="back">← Back to Employee List</a>
</div>

<script>
function updateEmployee(){
    fetch("/update_employee/{{ employee.id }}",{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({
            name:document.getElementById("name").value,
            branch:document.getElementById("branch").value,
            phone:document.getElementById("phone").value
        })
    })
    .then(res=>res.json())
    .then(data=>{
        if(data.success){
            document.getElementById("status").innerText = "✅ Employee updated successfully";
        }else{
            document.getElementById("status").innerText = "❌ Update failed";
        }
    });
}
</script>

</body>
</html>
